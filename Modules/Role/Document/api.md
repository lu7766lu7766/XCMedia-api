# 自定義角色 & 公開角色

### API

> 列表

| 項目         | 內容                         | 類型         | 預設         | 說明                  | 必填  |
|-------------|-----------------------------|--------------|--------------|---------------------|-------|
| <b>路徑</b>  |role/public/index       |              |              |                     |      |
| <b>方法</b>  | POST                        |              |              |                     |      |
| <b>權限</b>  | role.custom.manage.read           |              |              |          -          |      |
| <b>參數</b>  |                             |              |              |                     |      |
|             | enable                      | string      |     Y         |      啟(Y)/停用(N)        |   x  |
|             | page                      | integer      |         1     |      頁碼        |   x  |
|             | perpage                      | integer      |       20       |      每頁筆數        |   x  |


> 總筆數

| 項目         | 內容                         | 類型         | 預設         | 說明                  | 必填  |
|-------------|-----------------------------|--------------|--------------|---------------------|-------|
| <b>路徑</b>  |role/public/total       |              |              |                     |      |
| <b>方法</b>  | POST                        |              |              |                     |      |
| <b>權限</b>  | role.custom.manage.read           |              |              |          -          |      |
| <b>參數</b>  |                             |              |              |                     |      |
|             | enable                      | string      |     Y         |      啟(Y)/停用(N)        |   x  |


> 指定角色資訊

| 項目         | 內容                         | 類型         | 預設         | 說明                  | 必填  |
|-------------|-----------------------------|--------------|--------------|---------------------|-------|
| <b>路徑</b>  |role/public/{id}       |              |              |                     |      |
| <b>方法</b>  | GET                        |              |              |                     |      |
| <b>權限</b>  | role.custom.manage.read            |              |              |          -          |      |
| <b>參數</b>  |                             |              |              |                     |      |
|             | id                      | integer      |              |      角色id        |   o  |

> 新增自定義角色

| 項目         | 內容                         | 類型         | 預設         | 說明                  | 必填  |
|-------------|-----------------------------|--------------|--------------|---------------------|-------|
| <b>路徑</b>  |role/custom/create       |              |              |                     |      |
| <b>方法</b>  | POST                        |              |              |                     |      |
| <b>權限</b>  | role.custom.manage.create            |              |              |          -          |      |
| <b>參數</b>  |                             |              |              |                     |      |
|             | name                      | string      |              |      角色名稱,長度1~16        |   o  |
|             | description               | string      |     Y         |     描述        |   x  |
|             | enable                      | string      |     Y         |      啟(Y)/停用(N)        |   x  |


> 編輯自定義角色

| 項目         | 內容                         | 類型         | 預設         | 說明                  | 必填  |
|-------------|-----------------------------|--------------|--------------|---------------------|-------|
| <b>路徑</b>  |role/custom/edit       |              |              |                     |      |
| <b>方法</b>  | POST                        |              |              |                     |      |
| <b>權限</b>  | role.custom.manage.update            |              |              |          -          |      |
| <b>參數</b>  |                             |              |              |                     |      |
|             | id                      | integer      |              |      當有給此參數時,會修改該筆資料(不存在會回傳錯誤) |   o  |
|             | name                      | string      |              |      角色名稱,長度1~16        |   o  |
|             | description               | string      |     Y        |     描述        |   x  |
|             | enable                      | string      |     Y         |      啟(Y)/停用(N)        |   x  |

> 刪除自定義角色  

| 項目         | 內容                         | 類型         | 預設         | 說明                  | 必填  |
|-------------|-----------------------------|--------------|--------------|---------------------|-------|
| <b>路徑</b>  |role/custom/delete/{id}       |              |              |                     |      |
| <b>方法</b>  | DELETE                        |              |              |                     |      |
| <b>權限</b>  | role.custom.manage.del            |              |              |          -          |      |
| <b>參數</b>  |                             |              |              |                     |      |
|             | id                      | integer      |              |      角色id        |   o  |

> 所有可用節點

| 項目         | 內容                         | 類型         | 預設         | 說明                  | 必填  |
|-------------|-----------------------------|--------------|--------------|---------------------|-------|
| <b>路徑</b>  |role/public/authorized/node       |              |              |                     |      |
| <b>方法</b>  | GET                        |              |              |                     |      |
| <b>權限</b>  | role.public.authorization            |              |              |          -          |      |
| <b>參數</b>  |                             |              |              |                     |      |

> 角色已綁定的節點

| 項目         | 內容                         | 類型         | 預設         | 說明                  | 必填  |
|-------------|-----------------------------|--------------|--------------|---------------------|-------|
| <b>路徑</b>  |role/public/node/map       |              |              |                     |      |
| <b>方法</b>  | POST                        |              |              |                     |      |
| <b>權限</b>  | role.public.authorization            |              |              |          -          |      |
| <b>參數</b>  |                             |              |              |                     |      |
|             | id                      | integer      |              |      角色id        |   o  |

> 綁定節點

| 項目         | 內容                         | 類型         | 預設         | 說明                  | 必填  |
|-------------|-----------------------------|--------------|--------------|---------------------|-------|
| <b>路徑</b>  |role/public/node/bind       |              |              |                     |      |
| <b>方法</b>  | POST                        |              |              |                     |      |
| <b>權限</b>  | role.public.authorization            |              |              |          -          |      |
| <b>參數</b>  |                             |              |              |                     |      |
|             | id                      | integer      |              |      角色id        |   o  |
|             | nodes                      | array      |              |      節點id(s)        |   o  |

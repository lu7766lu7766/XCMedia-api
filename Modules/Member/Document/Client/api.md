# 會員

> 註冊

註:此api會打兩次,填寫帳號密碼頁面為第一次,進行簡訊驗證為第二次,api第一次若拿到null為通過表單驗證,第二次驗證時會回傳會員資料

| 項目        | 內容                    | 類型     | 預設  | 說明   | 必填  |
| --------- | --------------------- | ------ | --- | ---- | --- |
| <b>路徑</b> | client/register       |        |     |      |     |
| <b>方法</b> | post                  |        |     |      |     |
| <b>權限</b> |                       |        |     | -    |     |
| <b>參數</b> |                       |        |     |      |     |
|           | account               | string |     | 帳號(中國手機號碼,11碼)   | o   |
|           | password              | string |     | 密碼   | o   |
|           | password_confirmation | string |     | 密碼確認 | o   |
|           | domain                | string |     | 註冊網站 | o   |
|           | verification_code     | string |     | 要簡訊驗證時才送 | x   |


> 取得註冊驗證碼


| 項目        | 內容                    | 類型     | 預設  | 說明   | 必填  |
| --------- | --------------------- | ------ | --- | ---- | --- |
| <b>路徑</b> | client/register/send_verification_code       |        |     |      |     |
| <b>方法</b> | post                  |        |     |      |     |
| <b>權限</b> |                       |        |     | -    |     |
| <b>參數</b> |                       |        |     |      |     |
|           | account               | string |     | 帳號(中國手機號碼,11碼)   | o   |
|           | domain                | string |     | 註冊網站 | o   |


> 帳號明細  

| 項目        | 內容             | 類型     | 預設  | 說明  | 必填  |
| --------- | -------------- | ------ | --- | --- | --- |
| <b>路徑</b> | client/profile |        |     |     |     |
| <b>方法</b> | GET           |        |     |     |     |
| <b>權限</b> |                |        |     | -   |     |
| <b>參數</b> |                |        |     |     |     |

> 更新帳號  

| 項目        | 內容             | 類型     | 預設  | 說明  | 必填  |
| --------- | -------------- | ------ | --- | --- | --- |
| <b>路徑</b> | client/profile |        |     |     |     |
| <b>方法</b> | PUT           |        |     |     |     |
| <b>權限</b> |                |        |     | -   |     |
| <b>參數</b> |                |        |     |     |     |
|           | email          | string |     | 帳號  | x   |
|           | phone          | string |     | 密碼  | x   |

> 更新密碼  

| 項目        | 內容                    | 類型     | 預設  | 說明     | 必填  |
| --------- | --------------------- | ------ | --- | ------ | --- |
| <b>路徑</b> | client/profile/password        |        |     |        |     |
| <b>方法</b> | PUT                  |        |     |        |     |
| <b>權限</b> |                       |        |     | -      |     |
| <b>參數</b> |                       |        |     |        |     |
|           | old_password          | string |     | 帳號     | o   |
|           | password              | string |     | 密碼     | o   |
|           | password_confirmation | string |     | 再次確認密碼 | o   |


> 登出


| 項目        | 內容                    | 類型     | 預設  | 說明   | 必填  |
| --------- | --------------------- | ------ | --- | ---- | --- |
| <b>路徑</b> | client/logout       |        |     |      |     |
| <b>方法</b> | GET                  |        |     |      |     |
| <b>權限</b> |                       |        |     | -    |     |
| <b>參數</b> |                       |        |     |      |     |


# 我的收藏

> 列表  

| 項目        | 內容                    | 類型     | 預設  | 說明     | 必填  |
| --------- | --------------------- | ------ | --- | ------ | --- |
| <b>路徑</b> | client/member/favorite        |        |     |        |     |
| <b>方法</b> | GET                  |        |     |        |     |
| <b>權限</b> |                       |        |     | -      |     |
| <b>參數</b> |                       |        |     |        |     |
|           | media_type          | string |     | 影音類型(戲劇:drama，電影:movie，動漫:anime，綜藝:variety)| x   |
|             |page         | int         |       1       |  分頁                   |   x  |
|             |perpage      | int         |      20       |  每頁筆數                |   x  |



> 總數  

| 項目        | 內容                    | 類型     | 預設  | 說明     | 必填  |
| --------- | --------------------- | ------ | --- | ------ | --- |
| <b>路徑</b> | client/member/favorite/total        |        |     |        |     |
| <b>方法</b> | GET                  |        |     |        |     |
| <b>權限</b> |                       |        |     | -      |     |
| <b>參數</b> |                       |        |     |        |     |
|           | media_type          | string |     | 影音類型(戲劇:drama，電影:movie，動漫:anime，綜藝:variety)| x   |


> 刪除收藏  

| 項目        | 內容                    | 類型     | 預設  | 說明     | 必填  |
| --------- | --------------------- | ------ | --- | ------ | --- |
| <b>路徑</b> | client/member/favorite        |        |     |        |     |
| <b>方法</b> | DELETE                  |        |     |        |     |
| <b>權限</b> |                       |        |     | -      |     |
| <b>header</b>|Content-Type:application/x-www-form-urlencoded     |              |              |          -          |      |
| <b>參數</b> |                       |        |     |        |     |
|           | id          | int |     | 收藏id| o   |

> 刪除全部收藏  

| 項目        | 內容                    | 類型     | 預設  | 說明     | 必填  |
| --------- | --------------------- | ------ | --- | ------ | --- |
| <b>路徑</b> | client/member/favorite/remove_all        |        |     |        |     |
| <b>方法</b> | DELETE                  |        |     |        |     |
| <b>權限</b> |                       |        |     | -      |     |
| <b>參數</b> |                       |        |     |        |     |
|           | media_type          | string |     | 影音類型(戲劇:drama，電影:movie，動漫:anime，綜藝:variety)| x   |

> 觀看記錄清單(戲劇/電影/動漫/綜藝)

| 項目        | 內容                    | 類型     | 預設  | 說明   | 必填  |
| --------- | --------------------- | ------ | --- | ---- | --- |
| <b>路徑</b> | client/viewed/episode |        |     |      |     |
| <b>方法</b> | GET                   |        |     |      |     |
| <b>權限</b> |                       |        |     | -    |     |
| <b>參數</b> |                       |        |     |      |     |
|           | type                  | string |     | 影片類型 | x   |
|           | page                  | int    | 1   | 分頁   | x   |
|           | perpage               | int    | 20  | 每頁筆數 | x   |

> 觀看記錄總數(戲劇/電影/動漫/綜藝)

| 項目        | 內容                          | 類型     | 預設  | 說明   | 必填  |
| --------- | --------------------------- | ------ | --- | ---- | --- |
| <b>路徑</b> | client/viewed/episode/total |        |     |      |     |
| <b>方法</b> | GET                         |        |     |      |     |
| <b>權限</b> |                             |        |     | -    |     |
| <b>參數</b> |                             |        |     |      |     |
|           | type                        | string |     | 影片類型 | x   |

> 觀看記錄總數類型

| 項目        | 內容                         | 類型  | 預設  | 說明  | 必填  |
| --------- | -------------------------- | --- | --- | --- | --- |
| <b>路徑</b> | client/viewed/episode/type |     |     |     |     |
| <b>方法</b> | GET                        |     |     |     |     |
| <b>權限</b> |                            |     |     | -   |     |
| <b>參數</b> |                            |     |     |     |     |

> 清除觀看記錄

| 項目        | 內容                     | 類型     | 預設  | 說明   | 必填  |
| --------- | ---------------------- | ------ | --- | ---- | --- |
| <b>路徑</b> | client/viewed/episode/ |        |     |      |     |
| <b>方法</b> | GET                    |        |     |      |     |
| <b>權限</b> |                        |        |     | -    |     |
| <b>參數</b> |                        |        |     |      |     |
|           | id                     | int    |     |      | x   |
|           | type                   | string |     | 影片類型 | x   |


> 新增觀看紀錄

| 項目        | 內容                    | 類型  | 預設  | 說明   | 必填  |
| --------- | --------------------- | --- | --- | ---- | --- |
| <b>路徑</b> | client/viewed/episode |     |     |      |     |
| <b>方法</b> | POST                  |     |     |      |     |
| <b>權限</b> |                       |     |     | -    |     |
| <b>參數</b> |                       |     |     |      |     |
|           | id                    | int |     | 影片Id | o   |




> 是否為收藏

| 項目        | 內容                    | 類型  | 預設  | 說明   | 必填  |
| --------- | --------------------- | --- | --- | ---- | --- |
| <b>路徑</b> | client/member/favorite/is_my_favorite |     |     |      |     |
| <b>方法</b> | GET                  |     |     |      |     |
| <b>權限</b> |                       |     |     | -    |     |
| <b>參數</b> |                       |     |     |      |     |
|           | media_id                    | int |     | 影音 id | o   |


